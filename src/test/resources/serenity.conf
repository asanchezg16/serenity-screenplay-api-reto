# ==================================================================================
# SERENITY BDD - CONFIGURATION OPTIMIZADA
# ==================================================================================

serenity {
  logging = verbose
  encoding = "UTF-8"
  tag.failures = "true"
  linked.tags = "issue"
  compress.filenames = true
  take.screenshots = FOR_EACH_ACTION
  console.colors = true

  # Test organization
  test.root = "com.choucair"
  requirements.dir = "src/test/resources/features"

  # Output
  outputDirectory = "target/site/serenity"
  report.accessibility = true
}

# ==================================================================================
# DEFAULT ENVIRONMENT
# ==================================================================================
environment = web.chrome

# ==================================================================================
# ENVIRONMENTS
# ==================================================================================

environments {

  # ================================================================================
  # WEB
  # ================================================================================
  web {
  safari {
    webdriver.driver = safari
    webdriver.base.url = "https://www.saucedemo.com"
  }

    chrome {
      webdriver.driver = chrome
      webdriver.base.url = "https://www.saucedemo.com"
      webdriver.wait.for.timeout = 10000
      webdriver.capabilities.browserName = "chrome"

      webdriver.capabilities."goog:chromeOptions" {
        args = [
          "start-maximized",
          "disable-infobars",
          "remote-allow-origins=*",
          "incognito",
          "disable-gpu",
          "disable-default-apps",
          "disable-popup-blocking",
          "disable-download-notification",
          "ignore-certificate-errors",
          "allow-running-insecure-content",
          "disable-translate",
          "always-authorize-plugins",
          "disable-extensions",
          "disable-notifications"

        ]
      }
    }
  }

  # ================================================================================
  # API
  # ================================================================================
  api {
    rest.api.baseurl = "https://rickandmortyapi.com/api"
    rest.api.timeout = 30000

    rest.headers {
      "Content-Type" = "application/json"
      "Accept" = "application/json"
    }
  }
}

# ==================================================================================
# WEBDRIVER GLOBAL
# ==================================================================================
webdriver {
  autodownload = true
}
